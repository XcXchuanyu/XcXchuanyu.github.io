<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"example.com",root:"/",scheme:"Pisces",version:"8.0.2",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12},copycode:!1,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"Searching...",empty:"We didn't find any results for the search: ${query}",hits_time:"${hits} results found in ${time} ms",hits:"${hits} results found"}}</script><meta name="description" content="Lecture 2: Network-level attacksDefeating HTTPS[2*]Https Downgrade : insert http links in the web page Defense of  https downgrade: HTTP Strict Transport Security(HSTS) Idea: supplies a header over HT"><meta property="og:type" content="article"><meta property="og:title" content="CS5331 Web Security"><meta property="og:url" content="http://example.com/uncategorized/Study/CS5331%20Web%20Security/index.html"><meta property="og:site_name" content="XcX"><meta property="og:description" content="Lecture 2: Network-level attacksDefeating HTTPS[2*]Https Downgrade : insert http links in the web page Defense of  https downgrade: HTTP Strict Transport Security(HSTS) Idea: supplies a header over HT"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://pic2.zhimg.com/v2-a0d10af45e785fe8d3f5cd12f8c309f5_b.jpg"><meta property="og:image" content="c:/Users/Charlas%20xia/AppData/Roaming/Typora/typora-user-images/image-20210227163851245.png"><meta property="og:image" content="c:/Users/Charlas%20xia/AppData/Roaming/Typora/typora-user-images/image-20210227195505720.png"><meta property="og:image" content="c:/Users/Charlas%20xia/AppData/Roaming/Typora/typora-user-images/image-20210227195523667.png"><meta property="og:image" content="c:/Users/Charlas%20xia/AppData/Roaming/Typora/typora-user-images/image-20210227204503257.png"><meta property="article:published_time" content="2021-02-26T05:52:46.348Z"><meta property="article:modified_time" content="2021-03-16T11:22:47.758Z"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://pic2.zhimg.com/v2-a0d10af45e785fe8d3f5cd12f8c309f5_b.jpg"><link rel="canonical" href="http://example.com/uncategorized/Study/CS5331%20Web%20Security/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>CS5331 Web Security | XcX</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/atom.xml" title="XcX" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">XcX</h1><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li></ul></nav></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-2-Network-level-attacks"><span class="nav-number">1.</span> <span class="nav-text">Lecture 2: Network-level attacks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Defeating-HTTPS-2"><span class="nav-number">1.1.</span> <span class="nav-text">Defeating HTTPS[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CA-compromise-2"><span class="nav-number">1.2.</span> <span class="nav-text">CA compromise[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Other-Attack-1"><span class="nav-number">1.3.</span> <span class="nav-text">Other Attack[1*]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-3-Session-Attack"><span class="nav-number">2.</span> <span class="nav-text">Lecture 3: Session Attack</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookies-Session-Cloning-Session-Riding-CSRF-3"><span class="nav-number">2.1.</span> <span class="nav-text">Cookies, Session Cloning, Session Riding&#x2F; CSRF[3*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Third-party-cookies-2"><span class="nav-number">2.2.</span> <span class="nav-text">Third-party cookies[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Same-Origin-Policy-2"><span class="nav-number">2.3.</span> <span class="nav-text">Same Origin Policy[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cross-site-Scripting-3"><span class="nav-number">2.4.</span> <span class="nav-text">Cross-site Scripting[3*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSP-1"><span class="nav-number">2.5.</span> <span class="nav-text">CSP[1*]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-4-Server-side-Injection-Attacks"><span class="nav-number">3.</span> <span class="nav-text">Lecture 4: Server-side Injection Attacks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-Injection-2"><span class="nav-number">3.1.</span> <span class="nav-text">SQL Injection[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Command-Injection-3"><span class="nav-number">3.2.</span> <span class="nav-text">Command Injection[3*]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-5-Attacks-in-the-Application-logic"><span class="nav-number">4.</span> <span class="nav-text">Lecture 5: Attacks in the Application logic</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-Parameter-Pollution-HTTP-Parameter-Tampering-HTTP-Header-Injection-3"><span class="nav-number">4.1.</span> <span class="nav-text">HTTP Parameter Pollution, HTTP Parameter Tampering, HTTP Header Injection[3*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#File-upload-vulnerability-1"><span class="nav-number">4.2.</span> <span class="nav-text">File upload vulnerability[1*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#File-inclusion-vulnerability-2"><span class="nav-number">4.3.</span> <span class="nav-text">File inclusion vulnerability[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Access-control-and-logic-bugs-1"><span class="nav-number">4.4.</span> <span class="nav-text">Access control and logic bugs[1*]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-6-Web-Authorization"><span class="nav-number">5.</span> <span class="nav-text">Lecture 6: Web Authorization</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Kerberos-1"><span class="nav-number">5.1.</span> <span class="nav-text">Kerberos[1*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Open-ID-OAuth-2"><span class="nav-number">5.2.</span> <span class="nav-text">Open ID OAuth[2*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SAML-1"><span class="nav-number">5.3.</span> <span class="nav-text">SAML[1*]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-SSO-Security-Problems-3"><span class="nav-number">5.4.</span> <span class="nav-text">Web SSO Security Problems[3*]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-7"><span class="nav-number">6.</span> <span class="nav-text">Lecture 7:</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Clickjacking"><span class="nav-number">6.1.</span> <span class="nav-text">Clickjacking</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Copy-Paste-XSS"><span class="nav-number">6.2.</span> <span class="nav-text">Copy-Paste XSS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-8-Browser-security"><span class="nav-number">7.</span> <span class="nav-text">Lecture 8: Browser security</span></a></li></ol></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="" src="/images/apple-touch-icon-next.png"><p class="site-author-name" itemprop="name"></p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">20</span> <span class="site-state-item-name">posts</span></a></div></nav></div><div class="cc-license site-overview-item animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></section></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="http://example.com/uncategorized/Study/CS5331%20Web%20Security/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/apple-touch-icon-next.png"><meta itemprop="name" content=""><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="XcX"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">CS5331 Web Security</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-02-26 13:52:46" itemprop="dateCreated datePublished" datetime="2021-02-26T13:52:46+08:00">2021-02-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-03-16 19:22:47" itemprop="dateModified" datetime="2021-03-16T19:22:47+08:00">2021-03-16</time></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="Lecture-2-Network-level-attacks"><a href="#Lecture-2-Network-level-attacks" class="headerlink" title="Lecture 2: Network-level attacks"></a>Lecture 2: Network-level attacks</h2><h3 id="Defeating-HTTPS-2"><a href="#Defeating-HTTPS-2" class="headerlink" title="Defeating HTTPS[2*]"></a>Defeating HTTPS[2*]</h3><p><strong>Https Downgrade</strong> : insert http links in the web page</p><p>Defense of https downgrade: HTTP Strict Transport Security(HSTS)</p><p>Idea: supplies a header over HTTPS</p><p><strong>User coopting &amp; caching flaws</strong>: images and icons contains the tricks to coopting users to click-through</p><p><strong>Mixed content</strong>(mixture of https links and http link)</p><p>Passive mixed content: doesn’t interact with the rest of the page</p><p>Active mixed content: interacts with the page</p><p>Defense: use “protocol-relative URLs”, use content security policy (CSP)</p><h3 id="CA-compromise-2"><a href="#CA-compromise-2" class="headerlink" title="CA compromise[2*]"></a>CA compromise[2*]</h3><p>weak browser trust model and added root CAs by system providers</p><p>Defense: Certificate Revocation (证书吊销) support by CRL and OCSP</p><p>Certificate Pinning(证书锁定) 在应用中锁定目标域的资源，不信任root CA</p><p>Certificate Transparency(证书透明度)</p><p>Component: 1）Certificate Logs；2）Certificate Monitors；3）Certificate Auditors</p><h3 id="Other-Attack-1"><a href="#Other-Attack-1" class="headerlink" title="Other Attack[1*]"></a>Other Attack[1*]</h3><p><strong>DNS attack</strong></p><ol><li>modify in-transit DNS response</li><li>find software vulnerabilities in DNS software</li><li>change the Query ID to give wrong response</li></ol><p><strong>Secure Channels</strong>: Defense against network attacks</p><p>SSL + HTTP = HTTPS (TSL is the revolution of SSL)</p><p>HTTPS session: 1. ciphers negotiation 2. AKE(Authenticated Key Exchange) 3. Symmetric Key Encryption</p><p>Chain of certificates: Root CAs(baked in your browser): can designate intermediate CA.</p><h2 id="Lecture-3-Session-Attack"><a href="#Lecture-3-Session-Attack" class="headerlink" title="Lecture 3: Session Attack"></a>Lecture 3: Session Attack</h2><p><img src="https://pic2.zhimg.com/v2-a0d10af45e785fe8d3f5cd12f8c309f5_b.jpg" alt="img"></p><h3 id="Cookies-Session-Cloning-Session-Riding-CSRF-3"><a href="#Cookies-Session-Cloning-Session-Riding-CSRF-3" class="headerlink" title="Cookies, Session Cloning, Session Riding/ CSRF[3*]"></a>Cookies, Session Cloning, Session Riding/ CSRF[3*]</h3><p><strong>HTTP</strong>: Stateless Protocol(maintains no information about the connection)</p><p><strong>Session ID</strong> is states on the client side: 1. URL parameter 2. Hidden HTML 3. COOKIES</p><p><strong>Cookie</strong> contains whatever the server puts in</p><p>persistent cookies(file system, store in a database) and non-persistent cookie(browser memory)</p><p>Usage: user authentication, personalization, user tracking</p><p>depend on: domain/path, but can access belonging to same domain</p><p><strong>Cookie Authentication</strong></p><img src="C:\Users\Charlas xia\AppData\Roaming\Typora\typora-user-images\image-20210227163851245.png" alt="image-20210227163851245" style="zoom:50%"><p><strong>Session Cloning:</strong> Change the session id in the cookies</p><p>Attack methods: edit cookies in local file system, 2) change cookie in browser memory 3) Browser itself can be malicious 4) network-level web manipulation proxy</p><p>Defense: using input validation ensure the integrity of state data 2) digitally sign or hash the variable 3) encrypt information in the URL and cookie 4) Long and random session ID 5) Dynamic session ID</p><p><strong>Session Riding</strong></p><p>CSRF(cross-site request forgery) a malicious site forge a stealthy request with GET or POST method</p><p>Basic CSRF(“session riding”) Login CSRF(“session feeding”, login into attack’s account and do the things) Router-Targeting CSRF</p><p>Defense: Make sure the request’s source(<strong>HTTP Referrer Validation</strong> check referrer header, <strong>Secret Validation Tokens</strong> use a random number in all steps of a transaction, <strong>Same-Site Cookie</strong>: prevent browser from sending the cookie along with cross-site{有点忘了!!!!})</p><p>Graphical Turing test(图形验证码)</p><h3 id="Third-party-cookies-2"><a href="#Third-party-cookies-2" class="headerlink" title="Third-party cookies[2*]"></a>Third-party cookies[2*]</h3><p>e.g. send a image from doubleclick.com to track people</p><h3 id="Same-Origin-Policy-2"><a href="#Same-Origin-Policy-2" class="headerlink" title="Same Origin Policy[2*]"></a>Same Origin Policy[2*]</h3><p>scripts from one origin can only access objects or services from the same origin</p><p>Principals: website, the owner of script</p><p>Resources: Cookies, Display, Network communication</p><p>Intuitive access control: Object and services</p><p>How to define origin: protocol, host and port.(only all same can access the resources)</p><p>PostMessage(): cross-frame communication channels</p><img src="C:\Users\Charlas xia\AppData\Roaming\Typora\typora-user-images\image-20210227195505720.png" alt="image-20210227195505720" style="zoom:30%"> <img src="C:\Users\Charlas xia\AppData\Roaming\Typora\typora-user-images\image-20210227195523667.png" alt="image-20210227195523667" style="zoom:30%"><p>Relaxing SOP: orders.company.com/catalog.company.com use domain lowering using <em>document.domain</em></p><p>Cross-Origin Resource Sharing: Certain cross-domain network request are forbidden like Ajax but allows origin B to give permission to origin A.</p><h3 id="Cross-site-Scripting-3"><a href="#Cross-site-Scripting-3" class="headerlink" title="Cross-site Scripting[3*]"></a>Cross-site Scripting[3*]</h3><p><strong>Web Attacker</strong>: Owns a valid domain, server with an SSL certificate</p><p><strong>XSS</strong>: Vulnerability of web application, failure in detecting scripts in inputs</p><p>**type1:**Reflected XSS: change the parameters with crafted URL to the web application, and web application returns pages including malicious script</p><p><strong>type2:</strong> Persistent XSS: use storage to the parser</p><p><strong>type3:</strong> DOM-based XSS: html script in website DOM generate the attack,the browser generate the malicious code</p><p><strong>type3a:</strong> Mutation XSS[not required]</p><img src="C:\Users\Charlas xia\AppData\Roaming\Typora\typora-user-images\image-20210227204503257.png" alt="image-20210227204503257" style="zoom:50%"><p>? will send to server and # will not</p><p><strong>Defeat</strong>: 1) Input validation/filtering 2) Input sanitization/escaping/encoding 3) use of more specific API</p><ol><li><p>Blacklisting and Whitelisting</p></li><li><p>Input Sanitization: use HTML encoding to prevent reflected XSS | Browser-side Filtering | Do matching after parsing</p></li><li><p>use of a more specific and less powerful JavaScript API</p></li><li><p>Other: use CSP; make cookies inaccessible to scripts</p></li></ol><h3 id="CSP-1"><a href="#CSP-1" class="headerlink" title="CSP[1*]"></a>CSP[1*]</h3><p>an HTTP header, provides a whitelist of sources of trusted content, instruct the browser to only execute specific resources</p><h2 id="Lecture-4-Server-side-Injection-Attacks"><a href="#Lecture-4-Server-side-Injection-Attacks" class="headerlink" title="Lecture 4: Server-side Injection Attacks"></a>Lecture 4: Server-side Injection Attacks</h2><h3 id="SQL-Injection-2"><a href="#SQL-Injection-2" class="headerlink" title="SQL Injection[2*]"></a>SQL Injection[2*]</h3><p>Three tier architecture: Client-&gt;Application Server-&gt;Database Server</p><p><strong>common pattern</strong> create SQL statement as strings, sends the statements to DB Server</p><p>SELECT * FROM user_data WHERE user_id = 0 OR 1=1</p><p><strong>Prepared Statements</strong>: less powerful API: only run what you want, properly separates control and data channel</p><p><strong>Other Defenses</strong>: use the proper query invocation function,randomize database schema, use principle of least privilege(only select, no insert/update/drop permission)</p><h3 id="Command-Injection-3"><a href="#Command-Injection-3" class="headerlink" title="Command Injection[3*]"></a>Command Injection[3*]</h3><p>Most common <strong>attack goals</strong>: Dump server’s password file, add an admin user</p><p><strong>Defense</strong>: 1. apply input validation by using a whitelist, 2. apply input escaping: add single quotes around a string, 3. use a less powerful and more specific API</p><h2 id="Lecture-5-Attacks-in-the-Application-logic"><a href="#Lecture-5-Attacks-in-the-Application-logic" class="headerlink" title="Lecture 5: Attacks in the Application logic"></a><strong>Lecture 5</strong>: Attacks in the Application logic</h2><h3 id="HTTP-Parameter-Pollution-HTTP-Parameter-Tampering-HTTP-Header-Injection-3"><a href="#HTTP-Parameter-Pollution-HTTP-Parameter-Tampering-HTTP-Header-Injection-3" class="headerlink" title="HTTP Parameter Pollution, HTTP Parameter Tampering, HTTP Header Injection[3*]"></a>HTTP Parameter Pollution, HTTP Parameter Tampering, HTTP Header Injection[3*]</h3><p>A malicious web user craft inputs</p><p>HPP: use more parameter in the URL;</p><p>HPT: validation bypassed and quantity be set as -4</p><p>Defense: Sanitize on the server; don’t trust all received HTTP, never place security-critical validation on the client</p><p>HHI: modify parameters in the response(X-XSS-Protection, SID)</p><h3 id="File-upload-vulnerability-1"><a href="#File-upload-vulnerability-1" class="headerlink" title="File upload vulnerability[1*]"></a>File upload vulnerability[1*]</h3><p>Use MIME-type validation, this type can be set by web clients via Content-Type header</p><p>Upload php files to do web-shell command and enable remote administration</p><p>Validating images using PHP’s getimagesize()</p><p>Other bad defense: blacklist bad file extensions</p><p>Good defense: whitelisting; Using a less powerful operation; Principle of least privilege; Isolation(Host on separate subdomain); Security by obscurity</p><h3 id="File-inclusion-vulnerability-2"><a href="#File-inclusion-vulnerability-2" class="headerlink" title="File inclusion vulnerability[2*]"></a>File inclusion vulnerability[2*]</h3><p>PHP include() and require()</p><p>take all the text/code/markup exist in the specified file and copies it into the file that uses the include statement</p><p>include: produce warning, require(): produce fatal error</p><p><strong>Remote File Inclusion</strong>: include and require can accept a remote file path</p><p><strong>Local File Inclusion:</strong> from the local current server</p><p><strong>Defense</strong></p><p>Both: avoid dynamically including files based on user input, maintain whitelist</p><p>Specific to RFI: disable allow_url_include|allow_url_fopen OFF</p><h3 id="Access-control-and-logic-bugs-1"><a href="#Access-control-and-logic-bugs-1" class="headerlink" title="Access control and logic bugs[1*]"></a>Access control and logic bugs[1*]</h3><p>user should no access control to user_add.php</p><p>Check is done at the app’s entry point: index.php</p><p>Other types: unprotected access(/admin)/ static file(123.pdf)/ parameter-based access control(admin = true)</p><p>Directory Traversal(Dot-Dot-Slash)</p><h2 id="Lecture-6-Web-Authorization"><a href="#Lecture-6-Web-Authorization" class="headerlink" title="Lecture 6: Web Authorization"></a>Lecture 6: Web Authorization</h2><p>web authentication: verifying is indeed; web authorization: decide user’s access resources</p><p>SSO login once and authenticate everywhere</p><h3 id="Kerberos-1"><a href="#Kerberos-1" class="headerlink" title="Kerberos[1*]"></a>Kerberos[1*]</h3><ol><li>user login session 2) type of service 3) service session</li></ol><p>web SSO: Identity provider(IDP), service provider(SP)</p><h3 id="Open-ID-OAuth-2"><a href="#Open-ID-OAuth-2" class="headerlink" title="Open ID OAuth[2*]"></a>Open ID OAuth[2*]</h3><p><strong>OpenID</strong> is open standard Entities: User, ID Provider, Web Application</p><p>Security Problems: Authentication Bugs(unauthorized parties log into victims’ account on the RP)</p><p>Privacy and trust issues: IDP has log of OpenID logins</p><p>Phishing: forward the user to a page asking user input their credentials</p><p>provide a service of assertion of identity</p><p><strong>OAuth:</strong> open standard for access delegation</p><p>allow <strong>access tokens</strong> to be issued to third-party clients</p><p><strong>Scopes</strong>: the authorization screen request permission screen[Scope to allow|deny]</p><p>an authorization protocol</p><p><strong>Weakness</strong>????</p><h3 id="SAML-1"><a href="#SAML-1" class="headerlink" title="SAML[1*]"></a>SAML[1*]</h3><p>Open standard for exchanging authentication and authorization data between parties(between IDP and RP/SP)</p><p>XML-based makeup language</p><h3 id="Web-SSO-Security-Problems-3"><a href="#Web-SSO-Security-Problems-3" class="headerlink" title="Web SSO Security Problems[3*]"></a>Web SSO Security Problems[3*]</h3><p>authorization: OAuth; authentication: OpenID (latest OpenID Connect runs on top of OAuth)</p><p>vulnerabilities: web user, IDP, SP not belong to the same organization; SSO operates on an open public network; runs on top of web and browser</p><p>Secret Token Leakage: transmitted through unencrypted channels</p><p>postmessage</p><h2 id="Lecture-7"><a href="#Lecture-7" class="headerlink" title="Lecture 7:"></a>Lecture 7:</h2><p>Some phishing attacks: homograph attack, picture-in-picture attack</p><p>Defense: user education, browser defenses, international domain name in the URL bar.</p><h3 id="Clickjacking"><a href="#Clickjacking" class="headerlink" title="Clickjacking"></a>Clickjacking</h3><p>iframe and screen access</p><p>Frame can overlap: outer iframe can create another overlapping iframe positioned over an embedded iframe</p><p>or use partial overlays</p><p>Timing attack: bait the user to perfrom a double-click then switch focus to popup window</p><h3 id="Copy-Paste-XSS"><a href="#Copy-Paste-XSS" class="headerlink" title="Copy-Paste XSS"></a>Copy-Paste XSS</h3><p>Self-XSS coercing users to copy-and-paste into the browser</p><p>Password cracking: shouldn’t be stored in plaintext, Defense: Hash</p><h2 id="Lecture-8-Browser-security"><a href="#Lecture-8-Browser-security" class="headerlink" title="Lecture 8: Browser security"></a>Lecture 8: Browser security</h2><p>Component view of browser and OS is similar</p><p>Authorities: web origin(protocol, host, port), PKI entities<br>Browser isolate web site from each other<br>app installation, browser sandbox makes sure websites will not affect local system</p></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-item"><a href="/uncategorized/Study/5%25%20theory/" rel="prev" title="5% theory"><i class="fa fa-chevron-left"></i> 5% theory</a></div><div class="post-nav-item"><a href="/uncategorized/Computing/proxy/" rel="next" title="正向代理与反向代理">正向代理与反向代理 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder"></span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a></div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script></body></html>